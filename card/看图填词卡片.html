<script>

    function getRecentCards(d, c=3) {
        return [["哀悼痛惜", "あいとうつうせき", "", "人の死を心から悲しみ、惜しむこと。", "", "https://idiom-encyclopedia.com/wp-content/uploads/2017/06/war_cyber_sensou-150x150.png", [], [], ["an emotion of great sadness associated with loss or bereavement", "condolence", "mourning", "sorrow", "lamentation"], ["随分立派な石碑だね。", "有名な歌人の墓碑銘と言ってもいいかもね。　故人になってから建てられたものらしいわよ。", "そうなんだ。何て書いてあるのかな？　達筆すぎてまったく読めないよ。", "弟子が歌人への哀悼痛惜を詠んだ短歌が刻まれているようだわ。\n"], ["妻を失った男の哀悼痛惜の思いに、弔問者は涙せずにはいられなかった。", "故人への、哀悼痛惜の念に堪えません。", "その男は哀悼痛惜の念にかられ、墓石に向かって号泣していた。", "不慮の事故で亡くなった多くの人々への哀悼痛惜の思いから、この石碑は建立された。", "彼に対する哀悼痛惜にうちひしがれたその姿は、全くの嘘っぱちだったのだ。"], ["「哀悼」は人の死を悲しみ惜しむこと、「痛惜」は人の死などを心から残念に思うことを示します。"], "「哀悼痛惜」も意味の似ている熟語である「哀悼」と「痛惜」を組み合わせた、相乗効果を狙った四字熟語です。これまでも同じ意味を重ねて意味を強める手法が取られている四字熟語をいくつかご紹介しましたが、これもその1つと言えますね。<br />\n意味を重ねることで、強くて深い思いを表すのですね。この熟語は、人の死に対して深い悲しみに打ちひしがれる様子を表しています。<br />\nご承知の通り、この熟語の前提は「人の死」や「故人」です。生きている人に対して使ったりすると、あらゆる意味で大きな失敗を呼ぶ可能性があります。<br />\n「人の死」や「別れ」は仏教語の「四苦八苦」にもあるように、生きていく上ではいや応もなくふりかかってくる悲しみや苦しみであると言えます。<br />\nそうした悲しみや苦しみに立ち会うときの、深い心情をシンプルに、それでいて重々しく表現したのがこの熟語なのかも知れませんね。", ["b3.jpg", "g1.jpg", "b2.jpg", "g1.jpg"]], ["悪漢無頼", "あっかんぶらい", "", "悪いことや乱暴なことなどをする男性。", "", "https://idiom-encyclopedia.com/wp-content/uploads/2017/06/hatake_tagayasu-150x150.png", ["悪逆非道（あくぎゃくひどう）"], ["品行方正（ひんこうほうせい）", "規行矩歩（きこうくほ）", "清浄潔白（せいじょうけっぱく）", "聖人君子（せいじんくんし）", "清廉恪勤（せいれんかっきん）", "清廉潔白（せいれんけっぱく）", "方正之士（ほうせいのし）"], ["A villain", "A rascal", "A scoundrel"], ["手配の凶悪犯がやっと捕まったね！", "これで一安心ね。", "手配の殺人事件のほかに、いくつも余罪があるらしいよ！", "とんだ悪漢無頼ね！　ひどいったらないわ！"], ["あの男は悪漢無頼の何者でもない。", "お酒を飲むと、彼は悪漢無頼に成り下がった。", "彼の悪漢無頼然とした振る舞いにはもう我慢できない。", "誰もあの子を悪漢無頼に育てようだなんて思ってもいなかった。", "それからの彼は悪漢無頼として生きていくほかなかった。"], ["「漢」は、男を示します。「悪漢」とは、字のごとく悪い男のこと。「無頼」は、「無頼漢」の略で、ならずもの、ごろつきのことです。"], "この四字熟語は「悪漢」と「無頼漢」いうふたつの似た意味の熟語を重ねた強調表現です。特に無頼や無頼漢に関しては、新明解国語事典では「定職がなく、法を無視した行動をする人」という定義が成されています。<br />\n「悪漢無頼」の示すところの性別は男。「漢」は「ある傾向をもった男性」を意味する言葉で、これを使った言葉に「熱血漢」や「痴漢」、「好漢」などがあります。\r\n「悪漢無頼」は定職も持たない、地に足着いた生活をしていない男で、さらに法に則って生活していない人間だから、当時も今も、平凡で静かな生活を送っている人達にとってはとにかく迷惑極まりない存在だったに違いありません。最近は法を曲げて自分の無法ぶりをごまかす新生代の悪い人達もいるくらいですから、困ったものです。", ["b3.jpg", "g1.jpg", "b4.jpg", "g3.jpg"]], ["悪鬼羅刹", "あっきらせつ", "", "恐ろしい魔物の例え", "「悪鬼」とは、人に悪いことをする化け物。「羅刹」は仏教で、足が速く力が強く、人をだまし、また、人を食らうという魔物から。", "https://idiom-encyclopedia.com/wp-content/uploads/2017/06/tsunami_nigeru-150x150.png", ["狐狸妖怪（こりようかい）", "妖怪変化（ようかいへんげ）", "異類異形（いるいいぎょう）", "怨霊怪異（おんりょうかいい）", "怪力乱神（かいりょくらんしん）", "牛頭馬頭（ごずめず）", "山精木魅（さんせいもくみ）", "魑魅魍魎（ちみもうりょう）"], [], [], ["ゆうべのテレビでやってた映画、見た？", "見たよ、戦闘シーンがすごい迫力だったよね", "主人公は、悪鬼羅刹のような戦いぶりだってわね", "ビデオにとっておいたから、また見ようっと"], ["その英雄は、悪鬼羅刹のように刀をふるい、悪人たちをなぎ倒した。", "口がたつうちの課長は、会議の時は悪鬼羅刹のように反対意見を次から次へと薙ぎ払った。", "無差別殺人の犯人は、悪鬼羅刹のように被害者たちに襲いかかった事が、後の調べでわかった。", "ボクシングのチャンピョンは悪鬼羅刹のように挑戦者に襲いかかった。", "悪鬼羅刹と言われたその極悪人は、最後は非業の死をとげた。"], ["fiendは「悪鬼」という意味の名詞。\n英文例\n彼の戦いぶりは悪鬼羅刹のようだった。His fight was just like man-eating fiend."], "「悪鬼」も「羅刹」も、人を襲い、喰らう恐ろしい化け物を表していることから、悪鬼羅刹（あっきらせつ）は恐ろしい魔物を例える言葉となりました。最近では、ロンドンで発生した無差別殺人のテロ事件が、この言葉から連想されます。次々と人を車ではね、車が止まったあとはナイフで次々になんの罪もない人を襲って刺したという話を聞くと、まさに悪鬼羅刹（あっきらせつ）の所業だと思ってしまいます。日本でも、時折悲惨な事件が報道されることがありますが、こうした事件が無くなることを切に願います。", ["g1.jpg", "b3.jpg", "g2.jpg", "b2.jpg"]], d];
    }

    function getHtml(data, index) {
        var html = g_order[index];
        for (var k of getStringToArray(html, '{{', '}}')) {
            //console.log(k);
            switch (k) {
            case 'FrontSide':
                html = html.replace('{{' + k + '}}', getHtml(data, 0));
                break;

            default:
                var i = g_flds.indexOf(k);
                if (i != -1) {
                    var v = data[i];
                    if (i == 7) {
                        v = v.replace(/\|/g, "</br>");
                    }
                    if (v.indexOf('src') != -1) {
                        v = v.replace('src="', 'src="./res/' + g_uuid + '/');
                    }
                    html = html.replace('{{' + k + '}}', v);
                }
                break;
            }
        }
        return html;
    }

    function getStringToArray(str, s, e) {
        var i_start, i_end;
        var a_res = [];
        while (typeof (str) == 'string') {
            i_start = str.indexOf(s, i_end);
            if (i_start == -1)
                break;

            i_start += s.length;
            i_end = str.indexOf(e, i_start);
            if (i_end != -1) {
                a_res.push(str.substr(i_start, i_end - i_start));
                i_end += e.length;
            } else {
                i_end = i_start;
            }
        }
        return a_res;
    }
</script>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="../css/animate.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="Content-Security-Policy" content="block-all-mixed-content">
    <!-- 强制移动设备以app模式打开页面(即在移动设备下全屏，仅支持部分浏览器) -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="full-screen" content="yes">
    <!--UC强制全屏-->
    <meta name="browsermode" content="application">
    <!--UC应用模式-->
    <meta name="x5-fullscreen" content="true">
    <!--QQ强制全屏-->
    <meta name="x5-page-mode" content="app">
    <!--QQ应用模式-->
    <meta name="description" content="List of drawing tutorials"/>
    <link rel="shortcut icon" href="favicon.ico">
    <title>Anki Web Test</title>
</head>
<style type="text/css">
    ._v_cover {
        display: block;
        margin: 0px auto;
        margin-bottom: 10px;
        margin-top: 15px;
    }

    #_v_question_1 {
    	overflow-y: hidden;
    	padding-top: 10px;
    }

    .bShadow-35, .bShadow-35h:hover {
        -webkit-box-shadow: rgba(26,26,67,0.05) 1px 1px 5px 0px, rgba(50,50,93,0.5) 39px 62.5px 125px -25px, rgba(0,0,0,0.3) 23.4px 37.5px 75px -37.5px;
        -moz-box-shadow: rgba(26,26,67,0.05) 1px 1px 5px 0px, rgba(50, 50, 93, 0.5) 39px 62.5px 125px -25px, rgba(0,0,0,0.3) 23.4px 37.5px 75px -37.5px;
        box-shadow: rgba(26,26,67,0.05) 1px 1px 5px 0px, rgba(50,50,93,0.5) 39px 62.5px 125px -25px, rgba(0,0,0,0.3) 23.4px 37.5px 75px -37.5px;
    }

    #_v_question_1 ._v_grid {
        padding: 10%;
        padding-top: 3%;
        display: grid;
        grid-template-columns: repeat(4, 25%);
    }

    #_v_question_1 ._v_grid_answer {
        width: 60%;
        margin: 0px auto;
        display: grid;
        grid-template-columns: repeat(4, 25%);
    }

    #_v_question_1 .box {
        text-align: center;
        border: 1px solid #fefefe;
        position: relative;
        display: inline-block;
        width: calc(100% - 20px);
        height: 66px;
        border-radius: 10px;
        background-color: #fff;
        box-shadow: 0 1px 2px rgba(0,0,0,0.15);
        margin: 0px auto;
        margin-bottom: 8px;
        cursor: pointer;
        -webkit-box-shadow: rgba(57,70,78,0.15) 0px 0px 1px 0px, rgba(57,70,78,0.25) 0px 20px 55px -8px;
        -moz-box-shadow: rgba(57,70,78,0.15) 0px 0px 1px 0px,rgba(57,70,78,0.25) 0px 20px 55px -8px;
        box-shadow: rgba(57,70,78,0.15) 0px 0px 1px 0px, rgba(57,70,78,0.25) 0px 20px 55px -8px;
    }

    ._v_grid_answer .box {
        width: calc(100% - 10px) !important;
        margin-top: 20px;
        height: 60px !important;
        -webkit-box-shadow: rgba(16,36,94,0.2) 0px 30px 40px 0px !important;
        -moz-box-shadow: rgba(16,36,94,0.2) 0px 30px 40px 0px !important;
        box-shadow: rgba(16,36,94,0.2) 0px 30px 40px 0px !important;
    }

    ._v_grid_answer span {
        font-size: 2.5em !important;
    }

    #_v_question_1 .box span {
        font-size: 2.8em;
    }

    ._v_select {
        background-color: #bfbfbf !important;
    }

    ._v_green {
        background-color: #95c75b91 !important;
    }

    ._v_red {
        background-color: #ff6347 !important;
    }
</style>
<script type="text/javascript" src='../js//jquery.min.js'></script>
<div class='_card'></div>
<script type="text/javascript">
    var d = ["阿鼻叫喚", "あびきょうかん", "準1級", "悲惨な状況に陥り、泣き叫び救いを求めるさまのたとえ。", "「阿鼻」は仏教でいう八大地獄のひとつ、阿鼻地獄のこと。「叫喚」はわめき叫ぶこと。阿鼻地獄に落ちた人々の泣き叫ぶさまからいう。", "https://idiom-encyclopedia.com/wp-content/uploads/2017/06/bg_hell_jigoku-150x150.jpg", ["叫喚地獄"], [], [], ["昨日のテスト、みんな出来が悪かったみたいね", "そうだよ、答案用紙が返って来る度にみんな阿鼻叫喚状態だったよ", "そうねぇ、日頃の努力が足りないから？", "ともこちゃんはいいよ、ひとりだけ９０点代だったんだから"], ["列車事故の現場は、まさに阿鼻叫喚の地獄絵図だった。", "金メダルを期待されていた選手が選外の結果になり、日本中が阿鼻叫喚だった。", "それは、阿鼻叫喚の中から、一筋の光が見えた瞬間だった。", "阿鼻叫喚の結果にならぬよう、我が塾は夏期講習をしっかりと行っていく。", "応援席の誰もが阿鼻叫喚を予感した時、その満塁ホームランが飛び出した。"], ["pandemoniumは「大混乱」や「修羅場」という意味の名詞。\n英文例\n事故現場は助ける人の声で阿鼻叫喚だった。 The Accident scene was in pandemonium with voice of people seeking help."], "", ["g1.jpg", "b1.jpg", "g1.jpg", "b1.jpg"]];
    var g_flds = ["yoji", "yomi", "level", "mean", "from", "image", "quasi", "antonym", "english", "usage", "example", "tips", "summary"];
    var g_uuid = 'img';
    var g_order = [`
<section id='_v_question_1'>
<img class='_v_cover' src='{{image}}' onclick='g_script.f_tip();' width=150 height=150>
<div class='_v_grid_answer'>
<div class='box bShadow-35 animated fadeInDown' animated='fadeInDown' ><span></span></div>
<div class='box bShadow-35 animated fadeInDown' animated='fadeInDown'><span></span></div>
<div class='box bShadow-35 animated fadeInDown' animated='fadeInDown'><span></span></div>
<div class='box bShadow-35 animated fadeInDown' animated='fadeInDown'><span></span></div>
</div>
<div class='_v_grid'></div>
</section>
`];
    $('._card').html(getHtml(d, 0));
</script>
<script>
    var h = '';
    var _v_g_test = typeof(g_showing) == 'undefined';
    if (!_v_g_test) {
        var d = g_showing
    }
    var g_script = {
        "cards": getRecentCards(d),
        'answer': d[0],
        'input': '',
        'try': 0,
        'tip': 0,
        'close': false,
        f_tip: function(){
            if(g_script.close == undefined) return;
            if(g_script.tip > 0){
                 $('._v_grid_answer .box').each(function(index, el) {
                    var dom = $(el);
                    var t1 = g_script.answer[index];
                    if(dom.find('span').text() !== t1){
                        dom.removeClass('_v_red').removeClass('_v_select').addClass('_v_green').find('span').text(t1);
                         _v_testAnim(dom, 'bounceIn');
                        _v_init();

                         $('._v_grid .box[text="' + t1+ '"]').removeClass('_v_select').addClass('_v_green');
                        return false;
                    }
                });
             }
             if(g_script.tip > 0 && !_v_g_test){
                 M.Toast.dismissAll();
                setTimeout(function() {
                    M.toast({
                        html: g_showing[3],
                        displayLength:999999,
                    })
                },100);
             }
        g_script.tip++;
        },
        'time': new Date().getTime() / 1000
    };
    var a = [];
    for (var card of g_script.cards) {
        for (var i = 0; i < card[0].length; i++) {
            a.push(card[0][i])
        }
    }
    a.sort(function() {
        return (0.5 - Math.random())
    });
    for (var i = 0; i < a.length; i++) {
        h = h + "<div class='box animated fadeInDown' animated='fadeInDown' text=" + a[i] + "><span>" + a[i] + "</span></div>"
    }
    $('._v_grid').html(h);
    $('._v_grid_answer .box').click(function(event) {
        if(g_script.close == undefined) return;
        var el = $(this);
        if (el.hasClass('_v_green')) return;
        if (el.hasClass('_v_red')) el.removeClass('_v_red');
        var s = el.find('span').text();
        if (s == '') {
            _v_testAnim(el, 'bounceIn');
            if (el.hasClass('_v_select')) {
                el.removeClass('_v_select');
                g_script.select = undefined
            } else {
                $('._v_grid_answer ._v_select').removeClass('_v_select');
                el.addClass('_v_select');
                g_script.select = el
            }
        } else {
            var a = 'bounceOutDown';
            var c = 'bounceIn';
            if (g_script.select != undefined) {
                a = 'bounceOutUp';
                g_script.select.find('span').text(s);
                g_script.select = undefined
            }
            _v_testAnim(el, a, c);
            el.find('span').text('');
            _v_init()
        }
    });
    $('._v_grid .box').click(function(event) {
        if(g_script.close == undefined) return;

        el = $(this);
        if (el.hasClass('_v_green')) return;
        var s = el.find('span').text();
        if (parseInt(s) > 0) {
            if (g_script.select != undefined) return;
            var t = el.attr('text');
            var d = $('._v_grid .box[text="' + t + '"]');
            _v_testAnim(d, 'bounceIn');
            d.removeClass('_v_select').find('span').text(d.attr('text'));
            _v_init(t, true)
        } else {
            _v_init(s)
        }
    });

    function _v_init(text = '', remove = false) {
        var t;
        if (!remove) {
            $('._v_select').each(function(index, el) {
                $(el).removeClass('_v_select').find('span').text($(el).attr('text'))
            })
        }
        g_script.input = '';
        $('._v_grid_answer .box').each(function(index, el) {
            dom = $(el);
            t = dom.find('span').text();
            g_script.input = g_script.input + (t == '' ? '_': t);
            if (t !== '') {
                if (remove && text == t) {
                    dom.removeClass('_v_red');
                    _v_testAnim(dom, 'bounceOutDown', 'bounceIn');
                    if (dom.hasClass('red')) dom.removeClass('red');
                    var doms = $('._v_grid .box[text="' + t + '"]');
                    doms.removeClass('_v_select').find('span').text(text);
                    dom.find('span').text('');
                    return true
                }
                $('._v_grid .box[text="' + t + '"]').addClass('_v_select').find('span').text(index + 1)
            } else if (text != '' && !remove) {
                var d;
                if (g_script.select != undefined) {
                    _v_testAnim(g_script.select, 'bounceInUp');
                    g_script.select.find('span').text(text);
                    g_script.select = undefined;
                } else {
                    _v_testAnim(dom, 'fadeInUpBig');
                    dom.find('span').text(text);
                    d = $('._v_grid .box[text="' + text + '"]').addClass('_v_select');
                    d.find('span').text(index + 1);
                    _v_testAnim(d, 'bounceIn');
                }
                _v_init()
                return false
            }
        });
        if (text == '' && !remove) {
            if (g_script.input.replace('_', '').length == 4) {
                _v_check_answer()
            }
        }
    }
    function _v_testAnim(d, x, callback) {
        var c = d.attr('Class');
        if (d.attr('animated') != undefined) {
            d.removeClass(d.attr('animated'))
        }
        d.attr('animated', x).addClass(x).one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend',
        function() {
            if ($(this).attr('animated') != undefined) {
                $(this).removeClass($(this).attr('animated')).attr('animated', '');
                if (callback != undefined) {
                    _v_testAnim(d, callback)
                }
            }
        })
    };
    function _v_beforeClose() {
        if (g_script.close == undefined) return;
         if(new Date().getTime() / 1000 - g_script.time > 1.5){
            _v_check_answer(true)
         }
    }
    function _v_check_answer(show = false) {
        var b = true;
        var r = Math.random() > 0.5 ? 'wobble': 'shake';
        g_script.
        try++;
        $('._v_grid_answer .box').each(function(index, el) {
            var s = $(el).find('span').text();
            if (s == g_script.answer[index]) {
                $(el).addClass('_v_green');
                $('._v_grid .box[text="' + s + '"]').addClass('_v_green')
            } else {
                if (show) {
                    $(el).removeClass('_v_red').addClass('_v_green').find('span').text(g_script.answer[index]);
                    r = 'zoomIn'
                } else {
                    $(el).addClass('_v_red');
                    b = false
                }
                _v_testAnim($(el), r)
            }
        });
        if (b) {
            $('._v_grid .box').removeClass('_v_green').removeClass('_v_select');
            var score = show ? 0 : (new Date().getTime() / 1000 - g_script.time > 30 ? 1 : 2);
            g_script.close = undefined;
            hideContent();
            setTimeout(function() {
                if (!_v_g_test) {
                    chooseScore(score)
                }
            },
            show ? 2500 : 1000)
        }
    }
    if ($('._card').height() > $(this).height()) {
        $('._card').css('marginBottom', 100)
    }

</script>
<!-- 
<section><div id='level'></div><p><strong>【四字熟語】</strong><br>{{yoji}}</p><p><strong>【読み方】</strong><br>{{yomi}}<br></p><p><strong>【意味】</strong><br>{{mean}}</p><p><strong>【語源・由来】</strong><br>{{from}}</p><img class='cover'src='{{image}}'width=150 height=150><div id='usage'></div><div id='quasi'></div><div id='antonym'></div><div id='english'></div><div id='example'></div><div id='tips'></div><div id='summary'></div></section><script>var h='';var d=g_showing;if(d[2]!=''){$('._card #level').html(`<div class=\"level card\"><div class=\"header\"><span style=\"font-size: 40px\">`+d[2]+`</span></div><div class=\"container\"><p>日本漢字能力検定</p></div></div>`)}for(var i=0;i<d[9].length;i++){h=h+`<div class=\"chat `+(i % 2 === 0 ? 'r' : 'l')+`\"><div class=\"content\"><img width=\"40\"height=\"40\"src=\"res/`+g_uuid+`/`+d[13][i]+`\"class=\"img\"><div class=\"name\">`+(i%2===0?'健太':'ともに')+`</div><div class=\"message\">`+d[9][i].replace(d[0],'<span style=\"color: #ff0000;\"><strong>'+d[0]+'</strong></span>')+`</div></div></div>`}$('._card #usage').html(\"<div class='chat_content'>\"+h+'</div>');for(var i=6;i<12;i++){if(i==9||typeof(d[i])!=='object'||d[i].length==0)continue;var title=g_flds[i];switch(title){case'quasi':title='類義語';break;case'antonym':title='対義語';break;case'english':title='英語訳';break;case'example':title='例文';break;case'tips':title='ヒント';break;case'summary':title='まとめ';break}h=`<div class=\"text_card\"><div class=\"header\"><h1>`+d[0]+`（`+d[1]+`）の`+title+`</h1></div><div class=\"container\"><ol>`;for(var v of d[i]){h=h+`<li>`+v.replace(d[0],'<span style=\"color: #ff0000;\"><strong>'+d[0]+'</strong></span>')+`</li>`}$('._card #'+g_flds[i]).html(\"<div class='text_card'>\"+h+'</ol></div></div></div>')}</script>
 -->
